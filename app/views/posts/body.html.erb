<ul class="nav nav-tabs body-view-nav-tabs" role="tablist">
  <li class="nav-tab nav-tab-post-body-text" role="presentation" class="active">
    <a href="#post-body-tab-<%= @post.id %>" role="tab" data-toggle="tab" class="post-render-mode" data-render-mode="text">Text</a>
  </li>
  <% unless @post.markdown.nil? %>
    <li class="nav-tab nav-tab-post-body-markdown" role="presentation">
      <a href="#post-source-tab-<%= @post.id %>" role="tab" data-toggle="tab" class="post-render-mode" data-render-mode="markdown">Markdown</a>
    </li>
  <% end %>
  <li class="nav-tab nav-tab-post-body-rendered" role="presentation">
    <a href="#preview-tab-<%= @post.id %>" role="tab" data-toggle="tab" class="post-render-mode" data-render-mode="rendered">Preview</a>
  </li>
</ul>

<div class="tab-content body-content-container">
  <div role="tabpanel" class="tab-pane active post-body-panel-text" id="post-body-tab-<%= @post.id %>">
    <div>
      <pre class="post-body-pre-block"><%= @post.body %></pre>
      <p>
        <span class="report-reasons">
          <%= @post.reasons.map(&:reason_name).join(", ") %>
        </span>
      </p>
    </div>
  </div>
  <% unless @post.markdown.nil? %>
    <div role="tabpanel" class="tab-pane post-body-panel-markdown" id="post-source-tab-<%= @post.id %>">
      <pre class="post-body-pre-block"><%= @post.markdown %></pre>
    </div>
  <% end %>
  <div role="tabpanel" class="tab-pane post-body-panel-preview" id="preview-tab-<%= @post.id %>">
    <div class="panel panel-default">
      <div class="panel-body">
        <%= safe_render_markdown(@post.markdown || @post.body, scrubber: Post.scrubber) %>
      </div>
    </div>
  </div>
</div>
